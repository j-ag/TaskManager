@page "/"

@using TaskManager.Client.DTOs
@using TaskService
@using MudBlazor
@inject ISnackbar Snackbar

@foreach(var item in toDoItems)
{
    <MudPaper Elevation="0">
        <MudStack Class="d-flex justify-center" Row>
            <MudPaper Class="pa-3 mud-theme-dark">@item.ToDoText</MudPaper>
            <MudPaper Class="pa-3 mud-theme-dark">@item.ToDoDate</MudPaper>
            <MudButton Variant="Variant.Filled" StartIcon="@Icons.Material.Filled.Delete" Color="Color.Error">Delete</MudButton>
        </MudStack>
    </MudPaper>
}

<MudButton onclick="CreateTask" Class="justify-center" Variant="Variant.Filled" EndIcon="@Icons.Material.Filled.Add" Style="background-color: green; color: white; width: 200px; height: 60px;">
    Create Task
</MudButton>

@code {
    List<ToDo> toDoItems = new List<ToDo>();

    protected override async Task OnInitializedAsync()
    {
        try
        {
            toDoItems = await TaskService.GetToDos();
        }
        catch (Exception ex)
        {
            //Snackbar.Add(ex.Message, Severity.Error);
        }
    }

    public void CreateTask(MouseEventArgs args)
    {
        throw new NotImplementedException();
    }
}